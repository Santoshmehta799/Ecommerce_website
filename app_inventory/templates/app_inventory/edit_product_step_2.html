{% extends 'seventh-square/layout/base.html' %}
{% load static %}
{% load auth_tag %}
{% block title %}Seller Profile | Seventh Square Seller{% endblock title %}
{% block metablock %}{% endblock metablock %}
{% block cssblock %}
    <link rel="stylesheet" href="{% static 'seventh-square/assets/css/bs-stepper/bs-stepper.min.css' %}" />
    <style>
        .custom-model-min-width{
            min-width: 44.5%;
        }

        .active .bs-stepper-circle {
            background-color: #4C5864;
        }

        .per-w-80{
            width:80% !important;
            display: inline-block !important;
        }
        
        .per-w-20{
            width:20% !important;
            text-align: center !important;
            display: inline-block !important;
        }
    </style>
{% endblock cssblock %}
{% block content %}
	<div class="container-fluid">
		<div class="row">
			<!-- Messages Start --> 
				{% include 'seventh-square/layout/messages.html' %}
				{% if error %}
					<div class="alert alert-danger alert-dismissible fade show mb-0" role="alert">
						{{ error|safe }}
						<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
					</div>
				{% endif %}
			<!-- Messages END -->
			<div class="col-12 col-md-12 bg-white">
				<div class="row pl-0">
					<!-- Col-3 is written as sidebar -->
					<div class="custom-sidebar-col-width bg-brand-sidebar d-none d-md-block text-white">
						<div class="row pt-4 px-4">
							<div class="col-12"> {%include 'seventh-square/layout/sidebar.html' %} </div>
						</div>
					</div>
					<div class="custom-main-col-width">
						<div class="row px-4 pt-3">
							<div class="col-md-12">
								<nav aria-label="breadcrumb">
									<ol class="breadcrumb">
										<li class="breadcrumb-item"><a class="text-dark text-decoration-none" href="/">Home</a></li>
										<li class="breadcrumb-item active" aria-current="page">Edit New Product</li>
									</ol>
								</nav>
							</div>
						</div>
						<div class="row px-4">
							<div class="col-md-12 px-3">
								<h2 class="text-center text-black">Edit New Product</h2>
							</div>
						</div>
						<div class="row mx-2 mb-4">
							<div class="col-12">
                                <div class="card mb-3" id="all_fields_card">
                                    <div class="card-header py-3 text-left bg-brand">
                                        <h3 class="m-0 text-black">Product Details</h3>
                                    </div>
                                    <div class="card-body m-1 p-1">
                                        <div class="mb-5 bg-white shadow-sm">

                                            <div id="stepperForm" class="bs-stepper">
                                                <div class="bs-stepper-header" role="tablist">
                                                    <div class="step" data-target="#stepper-form-1">
                                                        <button type="button" class="step-trigger" role="tab" id="stepperFormTrigger1" aria-controls="stepper-form-1">
                                                            <span class="bs-stepper-circle">1</span>
                                                            <span class="bs-stepper-label">Basic Info</span>
                                                        </button>
                                                    </div>
                                                    <div class="bs-stepper-line"></div>
                                                    <div class="step active" data-bs-skip data-target="#stepper-form-2">
                                                        <button type="button" class="step-trigger" role="tab" id="stepperFormTrigger2" aria-controls="#stepper-form-2">
                                                            <span class="bs-stepper-circle">2</span>
                                                            <span class="bs-stepper-label">Variants</span>
                                                        </button>
                                                    </div>
                                                    <div class="bs-stepper-line"></div>
                                                    <div class="step" data-target="#stepper-form-3">
                                                        <button type="button" class="step-trigger" role="tab" id="stepperFormTrigger3" aria-controls="#stepper-form-3">
                                                            <span class="bs-stepper-circle">3</span>
                                                            <span class="bs-stepper-label">More Info</span>
                                                        </button>
                                                    </div>
                                                    <div class="bs-stepper-line"></div>
                                                    <div class="step" data-target="#stepper-form-4">
                                                        <button type="button" class="step-trigger" role="tab" id="stepperFormTrigger4" aria-controls="#stepper-form-4">
                                                            <span class="bs-stepper-circle">4</span>
                                                            <span class="bs-stepper-label"> Pricing</span>
                                                        </button>
                                                    </div>
                                                    <div class="bs-stepper-line"></div>
                                                    <div class="step" data-target="#stepper-form-5">
                                                        <button type="button" class="step-trigger" role="tab" id="stepperFormTrigger5" aria-controls="#stepper-form-5">
                                                            <span class="bs-stepper-circle">5</span>
                                                            <span class="bs-stepper-label">Shipping</span>
                                                        </button>
                                                    </div>
                                                </div>

                                                <div class="bs-stepper-content">
                                                    <div id="stepper-form-1"  role="tabpanel" class="bs-stepper-pane fade" aria-labelledby="stepperFormTrigger1">
                                                        
                                                    </div>

                                                    <div id="stepper-form-2"  role="tabpanel" class="bs-stepper-pane fade active" aria-labelledby="stepperFormTrigger2">
                                                        <form class="needs-validation"  method="POST" id="basic-info-form" novalidate="" enctype="multipart/form-data">
                                                            {% csrf_token %}
                                                            
                                                            <div class="mt-5" id="blockToToggle">
                                                                <h5 class="font-size-18">Enter Variable</h5>
                                                                {% if product_obj.product_has_variant == True %}
                                                                    <div class="form-row">
                                                                        <div class="form-group col-md-10">
                                                                            <div class="tag-input-container">
                                                                                <input class="form-control input-tag" readonly type="text" id="tagInput" placeholder="Enter custom variants separated by commas" onkeydown="handleKeyDown(event)">
                                                                                <div class="invalid-feedback mt-5">Please fill in details.</div>
                                                                            </div>
                                                                            <div class="text-danger mt-2" id="errorText" style="display: none;">Tag already exists!</div>
                                                                            <div class="text-danger mt-2" id="errorVariationsDetails" style="display: none;">Please fill variations Details!</div>

                                                                            <div class="tag-list mb-1 mt-4" id="tagList">
                                                                                {% if product_obj.product_has_variant == True %}
                                                                                    {% if product_obj.product_variant.all %}
                                                                                        {% for obj in product_obj.product_variant.all %}
                                                                                            {% if obj.default_variant == True %}
                                                                                                {% for tag in obj.name|makelistofvariationstag %}
                                                                                                    <span class="tag justify-content-between m-1 pl-2 pr-1 py-1" style="min-width: 125px; background-color: rgba(76, 88, 100, 0.3);">
                                                                                                        <span class="tag-text">{{tag}}</span>
                                                                                                        <span class="tag-remove mr-1" style="font-size: 20px;">Ã—</span>
                                                                                                    </span>
                                                                                                {% endfor %}
                                                                                            {% endif %}
                                                                                        {% endfor %}
                                                                                    {% endif %}
                                                                                {% endif %}
                                                                            </div>
                                                                        </div>
                                                                        
                                                                    </div>
                                                                    <br>
                                                                    <h5 class="mt-4 font-size-18">Selected Options</h5>
                                                                    <span id="removeWarningOnTagSelection" class="text-danger d-none">Please Enter Variation from above. </span>
                                                                    <div class="form-row" id="selectedTagsContainer">
                                                                        {% if product_obj.product_has_variant == True %}
                                                                            {% if product_obj|make_options_list_by_obj %}
                                                                                {% for tag, tg_value in product_obj|make_options_list_by_obj %}
                                                                                    <div class="form-group col-md-12 mt-2 selected-tag" data-tag="size">
                                                                                        <div class="row selected-row-2">
                                                                                            <div class="col-md-2 mt-2 selected-col-1">
                                                                                                <input class="form-control d-flex align-items-center justify-content-between" value="{{tag}}" readonly="" name="variant_name[]" required="">
                                                                                            </div>
                                                                                            <div class="col-md-1 mt-2 selected-col-2"></div>
                                                                                            {% for tag_value in tg_value %}
                                                                                                {% if forloop.counter == 1 %}
                                                                                                    <div class="col-md-2 mt-2 selected-col selected-col-3">
                                                                                                        <input class="form-control per-w-77" type="text" readonly value="{{tag_value}}" required="" name="variant_value_{{tag}}[]">
                                                                                                    </div>
                                                                                                {% else %}
                                                                                                    <div class="col-md-2 mt-2 selected-col">
                                                                                                        <input class="form-control per-w-77" type="text" readonly value="{{tag_value}}" required="" name="variant_value_{{tag}}[]">
                                                                                                        <!--<a href="javascript:void(0);" class="text-danger per-w-20">
                                                                                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
                                                                                                                <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"></path>
                                                                                                            </svg>
                                                                                                        </a> -->
                                                                                                    </div>
                                                                                                {% endif %}
                                                                                            {% endfor %}
                                                                                            <!-- <div class="col-md-1 mt-2 selected-col-next d-flex align-items-center justify-content-center">
                                                                                                <a href="javascript:void(0);" class="text-success m-1">
                                                                                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-plus-lg" viewBox="0 0 16 16">
                                                                                                        <path fill-rule="evenodd" d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"></path>
                                                                                                    </svg>
                                                                                                </a>
                                                                                                <a href="javascript:void(0);" class="text-danger m-1">
                                                                                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
                                                                                                        <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"></path>
                                                                                                    </svg>
                                                                                                </a>
                                                                                            </div> -->
                                                                                        </div>
                                                                                    </div>
                                                                                {% endfor %}
                                                                            {% endif %}
                                                                        {% endif %}
                                                                    
                                                                    </div>
                                                                    <a href="javascript:void(0);" class="btn btn-dark mt-3 mb-5 d-none" onclick="GeneratePosibleVarient('selectedTagsContainer')">Add Variation</a>

                                                                    <div class="form-row mt-5" id="tableContainer">
                                                                        {% if product_obj.product_has_variant == True %}
                                                                        <table class="table table-responsive text-center">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Variants {% if product_obj.product_has_variant == True %}{% if product_obj.product_variant.all %}{% for obj in product_obj.product_variant.all %}{% if obj.default_variant == True %}({{obj.name|makelistofvariationstagbycomma}}){% endif %}{% endfor %}{% endif %} {% endif %}</th>
                                                                                    <th>MRP</th>
                                                                                    <th>Sale Price</th>
                                                                                    <th>Price in Request</th>
                                                                                    <th>Default Variant</th>
                                                                                    <th>Upload Image</th>
                                                                                    <th>Remove</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr>
                                                                                    <td><input class="form-control" type="text" value="{% if product_obj.product_has_variant == True %}{% if product_obj.product_variant.all %}{% for obj in product_obj.product_variant.all %}{% if obj.default_variant == True %}{{obj.value|makelistofvariationstagbycomma}}{% endif %}{% endfor %}{% endif %}{% endif %}" name="final_varient_name" readonly=""></td>
                                                                                    <td><input class="form-control mx-2" type="number" value="{% if product_obj.product_has_variant == True %}{% if product_obj.product_variant.all %}{% for obj in product_obj.product_variant.all %}{% if obj.default_variant == True %}{% if obj.product_variant_price_structure %}{{obj.product_variant_price_structure.mrp}}{% endif %}{% endif %}{% endfor %}{% endif %}{% endif %}" name="mrp" id="id_mrp{{forloop.counter0}}" required=""></td>
                                                                                    <td><input class="form-control mx-2" type="number" value="{% if product_obj.product_has_variant == True %}{% if product_obj.product_variant.all %}{% for obj in product_obj.product_variant.all %}{% if obj.default_variant == True %}{% if obj.product_variant_price_structure %}{{obj.product_variant_price_structure.sale_price}}{% endif %}{% endif %}{% endfor %}{% endif %}{% endif %}" name="sale_price" id="id_sale_price{{forloop.counter0}}" required=""></td>
                                                                                    <td><input class="form-check-input mx-2" type="checkbox" {% if product_obj.product_has_variant == True %}{% if product_obj.product_variant.all %}{% for obj in product_obj.product_variant.all %}{% if obj.default_variant == True %}{% if obj.price_on_request == True %}checked{% endif %}{% endif %}{% endfor %}{% endif %}{% endif %} name="price_in_request" id="id_price_in_request{{forloop.counter0}}"></td>
                                                                                    <td><input class="form-check-input mx-2" type="radio" name="default_variant" {% if product_obj.product_has_variant == True %}{% if product_obj.product_variant.all %}{% for obj in product_obj.product_variant.all %}{% if obj.default_variant == True %}{% if obj.price_on_request == True %}checked{% endif %}{% endif %}{% endfor %}{% endif %}{% endif %} id="id_default_variant{{forloop.counter0}}" required=""></td>
                                                                                    <td>
                                                                                        <a href="javascript:void(0);" class="btn btn-sm btn-secondary mx-2" data-bs-toggle="modal" data-bs-target="#uploadImageModel_{{forloop.counter0}}">Upload</a>
                                                                                        <div class="modal fade" id="uploadImageModel_{{forloop.counter0}}" tabindex="-1" role="dialog" aria-labelledby="uploadImageModel_{{forloop.counter0}}Label" aria-hidden="true">
                                                                                            <div class="modal-dialog modal-lg">
                                                                                                <div class="modal-content">
                                                                                                    <div class="modal-header">
                                                                                                        <h5 class="modal-title" id="uploadImageModel_{{forloop.counter0}}Label">Upload Image</h5>
                                                                                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"><span aria-hidden="true"></span></button>
                                                                                                    </div>
                                                                                                    <div class="modal-body">
                                                                                                        <div class="row">
                                                                                                            <div class="col-md-3 my-2">
                                                                                                                <h6>Main Display Image</h6>
                                                                                                            </div>
                                                                                                            <div class="col-md-9 my-2">
                                                                                                                <h6>Additional Image</h6>
                                                                                                            </div>
                                                                                                            
                                                                                                            {% if product_obj.product_has_variant == True %}
                                                                                                                {% if product_obj.product_variant.all %}
                                                                                                                    {% for obj in product_obj.product_variant.all %}
                                                                                                                        {% if obj.default_variant == True %}
                                                                                                                            {% if obj.product_variant_image.all %}
                                                                                                                                {% for image_obj in obj.product_variant_image.all %}
                                                                                                                                    <div class="col-md-3 my-2">
                                                                                                                                        <div class="mt-2" style="width: 135px; background-color: rgb(255, 255, 255); border: 1px solid grey; height: 131px; display: flex; align-items: center; justify-content: center;">
                                                                                                                                            <img src="{% if image_obj.picture %}{{ image_obj.picture.url }}{% endif %}" id="uploadedimage_{{ obj.value }}|{{image_obj.id}}" style="height: 132px; width: 136px; margin-left: 2px; margin-top: 1px; display: block; position: absolute;">
                                                                                                                                            <h6 id="uploadtext_{{ obj.value }}|{{obj.id}}" style="text-align: center;">+ Upload</h6>
                                                                                                                                        </div>
                                                                                                                                        <div class="mt-2"><input type="file" onchange="showImageForVariation(this, document.getElementById('uploadedimage_{{ obj.value }}|{{image_obj.id}}'), document.getElementById('uploadtext_{{ obj.value }}|{{image_obj.id}}'));" placeholder="Add Alt Text" accept=".jpg, .png, .jpeg, .mp4, .avi, .mov" name="picture_{{ obj.value }}" style="width: 135px; background-color: rgb(255, 255, 255); height: 32px; border: none;"></div>
                                                                                                                                    </div>
                                                                                                                                {% endfor %}
                                                                                                                            {% endif %}
                                                                                                                        {% endif %}
                                                                                                                    {% endfor %}
                                                                                                                {% endif %}
                                                                                                            {% endif %}
                                                                                                            
                                                                                                            <div class="col-md-3 my-2">
                                                                                                                <div class="mt-2" style="width: 135px; background-color: rgb(255, 255, 255); border: 1px solid grey; height: 131px; display: flex; align-items: center; justify-content: center;">
                                                                                                                    <img src="{% if obj.main.picture10 %}{{obj.main.picture10.url}}{% endif %}" id="uploadedimage_{{obj.main.variant_value}}|10" style="height: 132px; width: 136px; margin-left: 2px; margin-top: 1px; display: block; position: absolute;">
                                                                                                                    <h6 id="uploadtext_{{obj.main.variant_value}}|10" style="text-align: center;">+ Upload</h6>
                                                                                                                </div>
                                                                                                                <div class="mt-2"><input type="file" onchange="showImageForVariation(this, document.getElementById('uploadedimage_{{ obj.main.variant_value }}|10'), document.getElementById('uploadtext_{{ obj.main.variant_value }}|10'));" value="{% if obj.main.picture10 %}{{obj.main.picture10.url}}{% endif %}" placeholder="Add Alt Text" accept=".jpg, .png, .jpeg, .mp4, .avi, .mov" name="picture_{{obj.main.variant_value}}|10" style="width: 135px; background-color: rgb(255, 255, 255); height: 32px; border: none;"></div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="row mt-5 text-left">
                                                                                                            <div class="col-12">
                                                                                                                <ul>
                                                                                                                    <li>Images will be displayed to the customer in the order shown here.</li>
                                                                                                                    <li>Only JPEG, JPG, and PNG files are allowed.</li>
                                                                                                                </ul>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="modal-footer"><button type="button" data-bs-dismiss="modal" class="btn btn-brand" style="display: block;">Save</button></div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <a href="javascript:void(0);" class="text-danger per-w-20">
                                                                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
                                                                                                <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"></path>
                                                                                            </svg>
                                                                                        </a>
                                                                                    </td>
                                                                                </tr>

                                                                                {% if product_obj.product_has_variant == True %}
                                                                                    {% if product_obj.product_variant.all %}
                                                                                        {% for obj in product_obj.product_variant.all %}
                                                                                            {% if obj.default_variant == False %}
                                                                                                <tr>
                                                                                                    <td><input class="form-control" type="text" value="{{obj.value|makelistofvariationstagbycomma}}" name="final_varient_name" readonly=""></td>
                                                                                                    <td><input class="form-control mx-2" type="number" value="{% if obj.product_variant_price_structure %}{{obj.product_variant_price_structure.mrp}}{% endif %}" name="mrp" id="id_mrp{{forloop.counter}}" required=""></td>
                                                                                                    <td><input class="form-control mx-2" type="number" value="{% if obj.product_variant_price_structure %}{{obj.product_variant_price_structure.sale_price}}{% endif %}" name="sale_price" id="id_sale_price{{forloop.counter}}" required=""></td>
                                                                                                    <td><input class="form-check-input mx-2" type="checkbox" {% if obj.price_on_request %}checked{% endif %} value="{{obj.value}}" name="price_in_request" id="id_price_in_request{{forloop.counter}}"></td>
                                                                                                    <td><input class="form-check-input mx-2" type="radio" {% if obj_sub.variant_default %}checked{% endif %} name="default_variant" value="{{obj.value}}" id="id_default_variant{{forloop.counter}}" required=""></td>
                                                                                                    <td>
                                                                                                        <a href="javascript:void(0);" class="btn btn-sm btn-secondary mx-2" data-bs-toggle="modal" data-bs-target="#uploadImageModel_{{forloop.counter}}">Upload</a>
                                                                                                        <div class="modal fade" id="uploadImageModel_{{forloop.counter}}" tabindex="-1" role="dialog" aria-labelledby="uploadImageModel_{{forloop.counter}}Label" aria-hidden="true">
                                                                                                            <div class="modal-dialog modal-lg">
                                                                                                                <div class="modal-content">
                                                                                                                    <div class="modal-header">
                                                                                                                        <h5 class="modal-title" id="uploadImageModel_{{forloop.counter}}Label">Upload Image</h5>
                                                                                                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"><span aria-hidden="true"></span></button>
                                                                                                                    </div>
                                                                                                                    <div class="modal-body">
                                                                                                                        <div class="row">
                                                                                                                            <div class="col-md-3 my-2">
                                                                                                                                <h6>Main Display Image</h6>
                                                                                                                            </div>
                                                                                                                            <div class="col-md-9 my-2">
                                                                                                                                <h6>Additional Image</h6>
                                                                                                                            </div>

                                                                                                                            {% if product_obj.product_has_variant == True %}
                                                                                                                                {% if product_obj.product_variant.all %}
                                                                                                                                    {% for obj in product_obj.product_variant.all %}
                                                                                                                                        {% if obj.default_variant == False %}
                                                                                                                                            {% if obj.product_variant_image.all %}
                                                                                                                                                {% for image_obj in obj.product_variant_image.all %}
                                                                                                                                                    <div class="col-md-3 my-2">
                                                                                                                                                        <div class="mt-2" style="width: 135px; background-color: rgb(255, 255, 255); border: 1px solid grey; height: 131px; display: flex; align-items: center; justify-content: center;">
                                                                                                                                                            <img src="{% if image_obj.picture %}{{ image_obj.picture.url }}{% endif %}" id="uploadedimage_{{ obj.value }}|{{image_obj.id}}" style="height: 132px; width: 136px; margin-left: 2px; margin-top: 1px; display: block; position: absolute;">
                                                                                                                                                            <h6 id="uploadtext_{{ obj.value }}|{{obj.id}}" style="text-align: center;">+ Upload</h6>
                                                                                                                                                        </div>
                                                                                                                                                        <div class="mt-2"><input type="file" onchange="showImageForVariation(this, document.getElementById('uploadedimage_{{ obj.value }}|{{image_obj.id}}'), document.getElementById('uploadtext_{{ obj.value }}|{{image_obj.id}}'));" placeholder="Add Alt Text" accept=".jpg, .png, .jpeg, .mp4, .avi, .mov" name="picture_{{ obj.value }}" style="width: 135px; background-color: rgb(255, 255, 255); height: 32px; border: none;"></div>
                                                                                                                                                    </div>
                                                                                                                                                {% endfor %}
                                                                                                                                            {% endif %}
                                                                                                                                        {% endif %}
                                                                                                                                    {% endfor %}
                                                                                                                                {% endif %}
                                                                                                                            {% endif %}
                                                                                                                            
                                                                                                                            <div class="col-md-3 my-2">
                                                                                                                                <div class="mt-2" style="width: 135px; background-color: rgb(255, 255, 255); border: 1px solid grey; height: 131px; display: flex; align-items: center; justify-content: center;">
                                                                                                                                    <img src="{% if obj_sub.picture1 %}{{ obj_sub.picture1.url }}{% endif %}" id="uploadedimage_{{ obj_sub.variant_value }}|1" style="height: 132px; width: 136px; margin-left: 2px; margin-top: 1px; display: block; position: absolute;">
                                                                                                                                    <h6 id="uploadtext_{{ obj_sub.variant_value }}|1" style="text-align: center;">+ Upload</h6>
                                                                                                                                </div>
                                                                                                                                <div class="mt-2"><input type="file" onchange="showImageForVariation(this, document.getElementById('uploadedimage_{{ obj_sub.variant_value }}|1'), document.getElementById('uploadtext_{{ obj_sub.variant_value }}|1'));" placeholder="Add Alt Text" accept=".jpg, .png, .jpeg, .mp4, .avi, .mov" name="picture_{{ obj_sub.variant_value }}|1" style="width: 135px; background-color: rgb(255, 255, 255); height: 32px; border: none;"></div>
                                                                                                                            </div>
                                                                                                                            <div class="col-md-3 my-2">
                                                                                                                                <div class="mt-2" style="width: 135px; background-color: rgb(255, 255, 255); border: 1px solid grey; height: 131px; display: flex; align-items: center; justify-content: center;">
                                                                                                                                    <img src="{% if obj_sub.picture2 %}{{obj_sub.picture2.url}}{% endif %}" id="uploadedimage_{{obj_sub.variant_value}}|2" style="height: 132px; width: 136px; margin-left: 2px; margin-top: 1px; display: block; position: absolute;">
                                                                                                                                    <h6 id="uploadtext_{{obj_sub.variant_value}}|2" style="text-align: center;">+ Upload</h6>
                                                                                                                                </div>
                                                                                                                                <div class="mt-2"><input type="file" onchange="showImageForVariation(this, document.getElementById('uploadedimage_{{ obj_sub.variant_value }}|2'), document.getElementById('uploadtext_{{ obj_sub.variant_value }}|2'));" value="{% if obj_sub.picture2 %}{{obj_sub.picture2.url}}{% endif %}" placeholder="Add Alt Text" accept=".jpg, .png, .jpeg, .mp4, .avi, .mov" name="picture_{{obj_sub.variant_value}}|2" style="width: 135px; background-color: rgb(255, 255, 255); height: 32px; border: none;"></div>
                                                                                                                            </div>
                                                                                                                            <div class="col-md-3 my-2">
                                                                                                                                <div class="mt-2" style="width: 135px; background-color: rgb(255, 255, 255); border: 1px solid grey; height: 131px; display: flex; align-items: center; justify-content: center;">
                                                                                                                                    <img src="{% if obj_sub.picture3 %}{{obj_sub.picture3.url}}{% endif %}" id="uploadedimage_{{obj_sub.variant_value}}|3" style="height: 132px; width: 136px; margin-left: 2px; margin-top: 1px; display: block; position: absolute;">
                                                                                                                                    <h6 id="uploadtext_{{obj_sub.variant_value}}|3" style="text-align: center;">+ Upload</h6>
                                                                                                                                </div>
                                                                                                                                <div class="mt-2"><input type="file" onchange="showImageForVariation(this, document.getElementById('uploadedimage_{{ obj_sub.variant_value }}|3'), document.getElementById('uploadtext_{{ obj_sub.variant_value }}|3'));" value="{% if obj_sub.picture3 %}{{obj_sub.picture3.url}}{% endif %}" placeholder="Add Alt Text" accept=".jpg, .png, .jpeg, .mp4, .avi, .mov" name="picture_{{obj_sub.variant_value}}|3" style="width: 135px; background-color: rgb(255, 255, 255); height: 32px; border: none;"></div>
                                                                                                                            </div>
                                                                                                                            <div class="col-md-3 my-2">
                                                                                                                                <div class="mt-2" style="width: 135px; background-color: rgb(255, 255, 255); border: 1px solid grey; height: 131px; display: flex; align-items: center; justify-content: center;">
                                                                                                                                    <img src="{% if obj_sub.picture4 %}{{obj_sub.picture4.url}}{% endif %}" id="uploadedimage_{{obj_sub.variant_value}}|4" style="height: 132px; width: 136px; margin-left: 2px; margin-top: 1px; display: block; position: absolute;">
                                                                                                                                    <h6 id="uploadtext_{{obj_sub.variant_value}}|4" style="text-align: center;">+ Upload</h6>
                                                                                                                                </div>
                                                                                                                                <div class="mt-2"><input type="file" onchange="showImageForVariation(this, document.getElementById('uploadedimage_{{ obj_sub.variant_value }}|4'), document.getElementById('uploadtext_{{ obj_sub.variant_value }}|4'));" value="{% if obj_sub.picture4 %}{{obj_sub.picture4.url}}{% endif %}" placeholder="Add Alt Text" accept=".jpg, .png, .jpeg, .mp4, .avi, .mov" name="picture_{{obj_sub.variant_value}}|4" style="width: 135px; background-color: rgb(255, 255, 255); height: 32px; border: none;"></div>
                                                                                                                            </div>
                                                                                                                            <div class="col-md-3 my-2">
                                                                                                                                <div class="mt-2" style="width: 135px; background-color: rgb(255, 255, 255); border: 1px solid grey; height: 131px; display: flex; align-items: center; justify-content: center;">
                                                                                                                                    <img src="{% if obj_sub.picture5 %}{{obj_sub.picture5.url}}{% endif %}" id="uploadedimage_{{obj_sub.variant_value}}|5" style="height: 132px; width: 136px; margin-left: 2px; margin-top: 1px; display: block; position: absolute;">
                                                                                                                                    <h6 id="uploadtext_{{obj_sub.variant_value}}|5" style="text-align: center;">+ Upload</h6>
                                                                                                                                </div>
                                                                                                                                <div class="mt-2"><input type="file" onchange="showImageForVariation(this, document.getElementById('uploadedimage_{{ obj_sub.variant_value }}|5'), document.getElementById('uploadtext_{{ obj_sub.variant_value }}|5'));" value="{% if obj_sub.picture5 %}{{obj_sub.picture5.url}}{% endif %}" placeholder="Add Alt Text" accept=".jpg, .png, .jpeg, .mp4, .avi, .mov" name="picture_{{obj_sub.variant_value}}|5" style="width: 135px; background-color: rgb(255, 255, 255); height: 32px; border: none;"></div>
                                                                                                                            </div>
                                                                                                                            <div class="col-md-3 my-2">
                                                                                                                                <div class="mt-2" style="width: 135px; background-color: rgb(255, 255, 255); border: 1px solid grey; height: 131px; display: flex; align-items: center; justify-content: center;">
                                                                                                                                    <img src="{% if obj_sub.picture6 %}{{obj_sub.picture6.url}}{% endif %}" id="uploadedimage_{{obj_sub.variant_value}}|6" style="height: 132px; width: 136px; margin-left: 2px; margin-top: 1px; display: block; position: absolute;">
                                                                                                                                    <h6 id="uploadtext_{{obj_sub.variant_value}}|6" style="text-align: center;">+ Upload</h6>
                                                                                                                                </div>
                                                                                                                                <div class="mt-2"><input type="file" onchange="showImageForVariation(this, document.getElementById('uploadedimage_{{ obj_sub.variant_value }}|6'), document.getElementById('uploadtext_{{ obj_sub.variant_value }}|6'));" value="{% if obj_sub.picture6 %}{{obj_sub.picture6.url}}{% endif %}" placeholder="Add Alt Text" accept=".jpg, .png, .jpeg, .mp4, .avi, .mov" name="picture_{{obj_sub.variant_value}}|6" style="width: 135px; background-color: rgb(255, 255, 255); height: 32px; border: none;"></div>
                                                                                                                            </div>
                                                                                                                            <div class="col-md-3 my-2">
                                                                                                                                <div class="mt-2" style="width: 135px; background-color: rgb(255, 255, 255); border: 1px solid grey; height: 131px; display: flex; align-items: center; justify-content: center;">
                                                                                                                                    <img src="{% if obj_sub.picture7 %}{{obj_sub.picture7.url}}{% endif %}" id="uploadedimage_{{obj_sub.variant_value}}|7" style="height: 132px; width: 136px; margin-left: 2px; margin-top: 1px; display: block; position: absolute;">
                                                                                                                                    <h6 id="uploadtext_{{obj_sub.variant_value}}|7" style="text-align: center;">+ Upload</h6>
                                                                                                                                </div>
                                                                                                                                <div class="mt-2"><input type="file" onchange="showImageForVariation(this, document.getElementById('uploadedimage_{{ obj_sub.variant_value }}|7'), document.getElementById('uploadtext_{{ obj_sub.variant_value }}|7'));" value="{% if obj_sub.picture7 %}{{obj_sub.picture7.url}}{% endif %}" placeholder="Add Alt Text" accept=".jpg, .png, .jpeg, .mp4, .avi, .mov" name="picture_{{obj_sub.variant_value}}|7" style="width: 135px; background-color: rgb(255, 255, 255); height: 32px; border: none;"></div>
                                                                                                                            </div>
                                                                                                                            <div class="col-md-3 my-2">
                                                                                                                                <div class="mt-2" style="width: 135px; background-color: rgb(255, 255, 255); border: 1px solid grey; height: 131px; display: flex; align-items: center; justify-content: center;">
                                                                                                                                    <img src="{% if obj_sub.picture8 %}{{obj_sub.picture8.url}}{% endif %}" id="uploadedimage_{{obj_sub.variant_value}}|8" style="height: 132px; width: 136px; margin-left: 2px; margin-top: 1px; display: block; position: absolute;">
                                                                                                                                    <h6 id="uploadtext_{{obj_sub.variant_value}}|8" style="text-align: center;">+ Upload</h6>
                                                                                                                                </div>
                                                                                                                                <div class="mt-2"><input type="file" onchange="showImageForVariation(this, document.getElementById('uploadedimage_{{ obj_sub.variant_value }}|8'), document.getElementById('uploadtext_{{ obj_sub.variant_value }}|8'));" value="{% if obj_sub.picture8 %}{{obj_sub.picture8.url}}{% endif %}" placeholder="Add Alt Text" accept=".jpg, .png, .jpeg, .mp4, .avi, .mov" name="picture_{{obj_sub.variant_value}}|8" style="width: 135px; background-color: rgb(255, 255, 255); height: 32px; border: none;"></div>
                                                                                                                            </div>
                                                                                                                            <div class="col-md-3 my-2">
                                                                                                                                <div class="mt-2" style="width: 135px; background-color: rgb(255, 255, 255); border: 1px solid grey; height: 131px; display: flex; align-items: center; justify-content: center;">
                                                                                                                                    <img src="{% if obj_sub.picture9 %}{{obj_sub.picture9.url}}{% endif %}" id="uploadedimage_{{obj_sub.variant_value}}|9" style="height: 132px; width: 136px; margin-left: 2px; margin-top: 1px; display: block; position: absolute;">
                                                                                                                                    <h6 id="uploadtext_{{obj_sub.variant_value}}|9" style="text-align: center;">+ Upload</h6>
                                                                                                                                </div>
                                                                                                                                <div class="mt-2"><input type="file" onchange="showImageForVariation(this, document.getElementById('uploadedimage_{{ obj_sub.variant_value }}|9'), document.getElementById('uploadtext_{{ obj_sub.variant_value }}|9'));" value="{% if obj_sub.picture9 %}{{obj_sub.picture9.url}}{% endif %}" placeholder="Add Alt Text" accept=".jpg, .png, .jpeg, .mp4, .avi, .mov" name="picture_{{obj_sub.variant_value}}|9" style="width: 135px; background-color: rgb(255, 255, 255); height: 32px; border: none;"></div>
                                                                                                                            </div>
                                                                                                                            <div class="col-md-3 my-2">
                                                                                                                                <div class="mt-2" style="width: 135px; background-color: rgb(255, 255, 255); border: 1px solid grey; height: 131px; display: flex; align-items: center; justify-content: center;">
                                                                                                                                    <img src="{% if obj_sub.picture10 %}{{obj_sub.picture10.url}}{% endif %}" id="uploadedimage_{{obj_sub.variant_value}}|10" style="height: 132px; width: 136px; margin-left: 2px; margin-top: 1px; display: block; position: absolute;">
                                                                                                                                    <h6 id="uploadtext_{{obj_sub.variant_value}}|10" style="text-align: center;">+ Upload</h6>
                                                                                                                                </div>
                                                                                                                                <div class="mt-2"><input type="file" onchange="showImageForVariation(this, document.getElementById('uploadedimage_{{ obj_sub.variant_value }}|10'), document.getElementById('uploadtext_{{ obj_sub.variant_value }}|10'));" value="{% if obj_sub.picture10 %}{{obj_sub.picture10.url}}{% endif %}" placeholder="Add Alt Text" accept=".jpg, .png, .jpeg, .mp4, .avi, .mov" name="picture_{{obj_sub.variant_value}}|10" style="width: 135px; background-color: rgb(255, 255, 255); height: 32px; border: none;"></div>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                        <div class="row mt-5 text-left">
                                                                                                                            <div class="col-12">
                                                                                                                                <ul>
                                                                                                                                    <li>Images will be displayed to the customer in the order shown here.</li>
                                                                                                                                    <li>Only JPEG, JPG, and PNG files are allowed.</li>
                                                                                                                                </ul>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                    <div class="modal-footer"><button type="button" data-dismiss="modal" class="btn btn-dark" style="display: block; margin-top: 5px; color: red; font-size: 12px;">Save</button></div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </td>
                                                                                                    <td>
                                                                                                        <a href="javascript:void(0);" class="text-danger per-w-20">
                                                                                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
                                                                                                                <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"></path>
                                                                                                            </svg>
                                                                                                        </a>
                                                                                                    </td>
                                                                                                </tr>
                                                                                            {% endif %}
                                                                                        {% endfor %}

                                                                                    {% endif %}
                                                                                {% endif %}
                                                                            </tbody>
                                                                        </table>

                                                                        {% endif %}
                                                                    </div>
                                                                    <div id="modalContainer"></div>

                                                                    <br>
                                                                    {% endif %}
                                                                <br>
                                                            </div>
                                                            <button class="btn btn-dark mt-3">PREV</button>
                                                            <button class="btn btn-brand mt-3 btn-next-form">NEXT</button>
                                                        </form>
                                                    </div>

                                                    <div id="stepper-form-3"  role="tabpanel" class="bs-stepper-pane fade" aria-labelledby="stepperFormTrigger3">
                                                        step 3
                                                    </div>

                                                    <div id="stepper-form-4"  role="tabpanel" class="bs-stepper-pane fade" aria-labelledby="stepperFormTrigger4">
                                                        step 4
                                                    </div>
                                                    
                                                    <div id="stepper-form-5"  role="tabpanel" class="bs-stepper-pane fade" aria-labelledby="stepperFormTrigger5">
                                                        step 5
                                                    </div>



                                                </div>


                                            </div>
                                        </div>
                                    </div>
                                </div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock content %}
{% block jsblock %}
    <script rel="stylesheet" href="{% static 'seventh-square/assets/js/bs-stepper/bs-stepper.min.js' %}"></script>  
    <script>
					
		$(document).ready(function () {
			var token = $("input[name=csrfmiddlewaretoken]").val();
	
			$("#basic-info-form").validate();
		});

		{% comment %} except-user-phone-number-check/ {% endcomment %}
	</script>
    
    <script>
      
        const tagInput = document.getElementById('tagInput');
        const tagList = document.getElementById('tagList');
        const errorText = document.getElementById('errorText');
    
        tagInput.addEventListener('keydown', handleKeyDown);
    
        function handleKeyDown(event) {
          if (event.key === ',' || event.key === 'Enter') {
            event.preventDefault();
            const newTag = tagInput.value.trim();
            if (newTag !== '') {
              if (!tagListContains(newTag)) {
                errorText.style.display = 'none';
                addTag(newTag);
                takeVariationsValue(); // Call the function to update variations
              } else {
                errorText.style.display = 'block';
                tagInput.classList.add('has-error');
              }
            }
            tagInput.value = '';
          }
        }
    
        function addTag(tagText) {
          const tag = document.createElement('span');
          tag.className = 'tag justify-content-between m-1 px-3';
          tag.style.minWidth = '125px';
          tag.style.backgroundColor = 'rgba(76, 88, 100, 0.3)';
          
          const tagTextElement = document.createElement('span');
          tagTextElement.className = 'tag-text';
          tagTextElement.textContent = tagText;
          
          const tagRemove = document.createElement('span');
          tagRemove.className = 'tag-remove mr-1 ml-5';
          tagRemove.style.fontSize = '25px';
          tagRemove.textContent = 'Ã—';
          tagRemove.addEventListener('click', () => {
            tagList.removeChild(tag);
            tagInput.classList.remove('has-error');
            errorText.style.display = 'none';
          });
    
          tag.appendChild(tagTextElement);
          tag.appendChild(tagRemove);
          
          tagList.appendChild(tag);
          tagInput.classList.remove('has-error');
          errorText.style.display = 'none';
    
        }
    
        function tagListContains(tagText) {
          const tags = tagList.querySelectorAll('.tag-text');
          for (const tag of tags) {
            if (tag.textContent.toLowerCase() === tagText.toLowerCase()) {
              return true;
            }
          }
          return false;
        }
    
        function takeVariationsValue() {
          const removeWarningOnTagSelection = document.getElementById('removeWarningOnTagSelection');
          if (removeWarningOnTagSelection) {
            removeWarningOnTagSelection.style.display = 'none';
          }
    
          const selectedTags = Array.from(tagList.querySelectorAll('.tag-text')).map(tag => tag.textContent.trim());
    
          // Loop through each selected tag text
          selectedTags.forEach(tag => {
            // Check if a tag with the same value already exists in the selectedTagsContainer
            const existingTagDiv = selectedTagsContainer.querySelector(`.selected-tag[data-tag="${tag}"]`);
    
            if (!existingTagDiv) {
              const selectedTagDiv = document.createElement('div');
              selectedTagDiv.className = 'form-group col-md-12 mt-2 selected-tag';
              selectedTagDiv.setAttribute('data-tag', tag);
    
              const selectedRowDiv = document.createElement('div');
              selectedRowDiv.className = 'row selected-row-2';
    
              const selectedColDiv1 = document.createElement('div');
              selectedColDiv1.className = 'col-md-2 mt-2 selected-col-1';
    
              const selectedColDiv2 = document.createElement('div');
              selectedColDiv2.className = 'col-md-1 mt-2 selected-col-2';
    
              const selectedColDiv3 = document.createElement('div');
              selectedColDiv3.className = 'col-md-3 mt-2 selected-col selected-col-3';
    
              const selectedColDiv4 = document.createElement('div');
              selectedColDiv4.className = 'col-md-1 mt-2 selected-col-next d-flex align-items-center justify-content-center';
    
              // complete delete and add logic
              const AddLink = document.createElement('a');
              AddLink.href = 'javascript:void(0);';
              AddLink.className = 'text-success m-1';
              AddLink.innerHTML = `
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-plus-lg" viewBox="0 0 16 16">
                  <path fill-rule="evenodd" d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"/>
                </svg>
              `;
    
              const completeDeleteLink = document.createElement('a');
              completeDeleteLink.href = 'javascript:void(0);';
              completeDeleteLink.className = 'text-danger m-1';
              completeDeleteLink.innerHTML = `
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
                <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>
              </svg>
              `;
    
              AddLink.addEventListener('click', () => AddCurrentSelectedTag(AddLink, tag));
              completeDeleteLink.addEventListener('click', () => RemoveCurrentSelectedTag(completeDeleteLink));
    
              selectedColDiv4.appendChild(AddLink);
              selectedColDiv4.appendChild(completeDeleteLink);
    
              const selectedTagLabel = document.createElement('input');
              selectedTagLabel.className = 'form-control d-flex align-items-center justify-content-between';
              selectedTagLabel.readOnly = true;
              selectedTagLabel.name = 'variant_name[]';
              selectedTagLabel.required = true;
              selectedTagLabel.textContent = tag;
              selectedTagLabel.value = tag;
    
              const selectedTagInput = document.createElement('input');
              selectedTagInput.className = 'form-control per-w-80';
              selectedTagInput.type = 'text';
              selectedTagInput.value = '';
              selectedTagInput.required = true;
              selectedTagInput.name = 'variant_value_'+tag+'[]';
              
    
              // append row in tag 
              selectedTagDiv.appendChild(selectedRowDiv);
    
              selectedRowDiv.appendChild(selectedColDiv1);
              selectedColDiv1.appendChild(selectedTagLabel);
    
              selectedRowDiv.appendChild(selectedColDiv2);
              
              selectedRowDiv.appendChild(selectedColDiv3);
              selectedColDiv3.appendChild(selectedTagInput);
    
              selectedRowDiv.appendChild(selectedColDiv4);
    
              selectedTagDiv.appendChild(selectedRowDiv);
              selectedTagsContainer.appendChild(selectedTagDiv);
            }
    
          });
        }
    
    
        function deleteCurrentSelectedTag(deleteButton) {
          const selectedColDiv = deleteButton.closest('.selected-col');
          if (selectedColDiv) {
            selectedColDiv.remove();
          }
        }
        
        function AddCurrentSelectedTag(addButton, tag) {
          const selectedTagDiv = addButton.closest('.selected-tag');
          if (selectedTagDiv) {
            const selectedColNextTo = selectedTagDiv.querySelector('.selected-col-next');
            const selectedCol3 = selectedTagDiv.querySelector('.selected-col-3');
    
            const addSelectedColDiv = document.createElement('div');
            addSelectedColDiv.className = 'col-md-3 mt-2 selected-col';
    
            const selectedTagInput = document.createElement('input');
            selectedTagInput.className = 'form-control per-w-80';
            selectedTagInput.type = 'text';
            selectedTagInput.value = '';
            selectedTagInput.required = true;
            selectedTagInput.name = 'variant_value_' + tag + '[]';
    
            const deleteLink = document.createElement('a');
              deleteLink.href = 'javascript:void(0);';
              deleteLink.className = 'text-danger per-w-20';
              deleteLink.innerHTML = `
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
                      <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>
                  </svg>
              `;
              deleteLink.addEventListener('click', () => deleteCurrentSelectedTag(deleteLink));
    
            addSelectedColDiv.appendChild(selectedTagInput)
            addSelectedColDiv.appendChild(deleteLink)
    
            // Insert the new input field before the selectedCol3 element
            selectedCol3.parentNode.insertBefore(addSelectedColDiv, selectedColNextTo);
          }
        }
    
        function RemoveCurrentSelectedTag(removeButton) {
          const selectedTagDiv = removeButton.closest('.selected-tag');
          if (selectedTagDiv) {
            // Remove the parent of the selected tag
            selectedTagDiv.parentNode.removeChild(selectedTagDiv);
          }
        }
    
    </script>

    <script>
        var yValue = document.querySelector('input[name="var_added"][value="True"]');
        var errorMessageElement = document.getElementById("uploadImageErrorMessage");
        var errorMessageElement2 = document.getElementById("uploadImageErrorMessage2");
        var mfileInput = document.getElementById("myFile");
        var MainImagesUpload = document.getElementById("MainImagesUpload");

        function validateFileUpload() {
            var isChecked = yValue.checked;
            if (isChecked) {
                errorMessageElement.style.display = "none";
                errorMessageElement2.style.display = "none";
                MainImagesUpload.removeAttribute('required');
                return true;
            } else {
                errorMessageElement.style.display = "block";
                errorMessageElement2.style.display = "block";
                MainImagesUpload.setAttribute('required', true);
                return false;
            }
            document.getElementById("uploadImageErrorMessage").style.display = "none";
            document.getElementById("uploadImageErrorMessage2").style.display = "none";
        }
        
    </script>

    <script>
        function checkSalePrice() {
            var poqDropdown = document.getElementById('POQ');
            if (poqDropdown.value === 'False' || poqDropdown.value === '' ) {
                var productMRPInput = document.getElementById('productMRP');
                var salePriceInput = document.getElementById('sale_price');
                var productMRP = parseFloat(productMRPInput.value);
                var salePrice = parseFloat(salePriceInput.value);
                var salePriceError = document.getElementById('salePriceError');
                if (salePrice > productMRP) {
                    // Sale price is greater than product MRP
                    salePriceError.style.display = 'block';
                    salePriceInput.focus(); // Focus on the sale price input
                }else{
                    salePriceError.style.display = 'none';
                }
            }else{
                // If poqDropdown is not 'True', do nothing
                return;

            }
          }
    </script>

    <script>
        function toggleBlockVisibility() {
            var radioYes = document.querySelector('input[name="var_added"][value="True"]');
            var block = document.getElementById("blockToToggle");
            var single_img_toggle = document.getElementById("singleVariationsImagesToggle");
            //var Poq = document.getElementById("POQ");
            //var productMRP = document.getElementById("productMRP");
            
            if (radioYes.checked) {
                block.style.display = "block"; // Show the block
                //Poq.style.display = "none";
                //ProductMRP.style.display = "none";
                // single_img_toggle.style.display = "None";
            } else {
                block.style.display = "none";  // Hide the block
                single_img_toggle.style.display = "block";
                //Poq.style.display = "block";
                //ProductMRP.style.display = "block";
            }
        }
    </script>
    <script>
        // Function to show uploaded image
        function showImageForVariation(input, imageElement, uploadTextElement) {
            const reader = new FileReader();
            reader.onload = function() {
                imageElement.src = reader.result;
                imageElement.style.display = 'block';
                uploadTextElement.style.display = 'none';
            };
            reader.readAsDataURL(input.files[0]);
        }
    </script>
{% endblock jsblock %}